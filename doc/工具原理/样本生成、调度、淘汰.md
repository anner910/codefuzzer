# codefuzzer

### 样本生成

实际上，通过对被测代码使用-fsanitize-coverage=trace-pc编译选项插装，我们仅仅能够得到执行的代码块的头pc指针  
   
但是通过一些变通的算法，我们能够得到一次完整执行时

```
那个代码块是第一次被执行
那个代码块跳转是第一次被执行
循环语句的那些循环次数是第一次被执行
这次执行的所有代码块的hash值
```

通过上边这些信息，我们能够判断这次执行的样本是否有价值被保留，他的权重是多少
```
#define Pc_Weight 		30
#define PcEdge_Weight 		3
#define PcCycle_Weight 		10
#define PcPath_Weight 		1
```

### 样本调度

在某些场合，一些特性的进化方式会爆炸，变得特别的多，为了使不影响到其他进化方式，我们设计了多个样本队列  

权重大于等于30的增加到高级队列  权重大于等于6的增加到中级队列   所有样本增加到低级队列  

每个队列分别进行一定比例的调度，互不影响  

这样即使路径爆炸，也不会影响那些高权重样本的变异

### 样本淘汰

